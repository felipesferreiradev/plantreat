<%= render "shared/navbar" %>

<div class="container plant_detail_container">

    <%= image_tag "plantreat_logo.png", :class => "plant_show_logo", style: "height:60px; width:60px"%>
    <h2 class="m-0 p-2"><%=@plant.name %></h2>

    <%# show points %>
    <div>
        <h5 class="mt-0 p-0 text-center" style="color: #725B39;">150 points</h5>
    </div>

  <img class="w-100" src="<%=@plant.plants_images %>"  style="height:200px; object-fit: cover">


    <%#sick button  %>

    <div class = "d-flex justify-content-center">
      <%= link_to 'My plant looks sick', treatment_path(@plant), class:"btn mt-1", id:"btn-plant-sick"%>
    </div>

    <%#show treatment options  %>
    <div class="d-flex justify-content-center mt-5">
      <div class="row d-flex gap-3">
        <div class="col d-flex flex-column align-items-center">

         <% if @log.watered%>
          <%= link_to remove_water_log_path(@log) do %>
            <img class="p-2" src="https://img.icons8.com/color/344/water.png" style="height:50px; object-fit: cover; background-color: #E9FFE3; border-radius: 10px">
            <p class="plant_detail_label_content mt-1">Water</p>
          <% end %>
         <% else %>
          <%= link_to add_water_log_path(@log) do %>
              <img class="p-2" src="https://img.icons8.com/color/344/water.png" style="height:50px; object-fit: cover; background-color: #F5F7F4; border-radius: 10px">
              <p class="plant_detail_label_content mt-1">Water</p>
          <% end %>
         <% end %>
        </div>

        <div class="col d-flex flex-column align-items-center">
          <%= link_to add_sun_log_path(@log) do %>
            <img class="p-2" src="https://cdn-icons-png.flaticon.com/512/869/869869.png" style="height:50px; object-fit: cover; background-color: #F5F7F4; border-radius: 10px">
            <p class="plant_detail_label_content mt-1">Sun</p>
          <% end %>
        </div>

        <div class="col d-flex flex-column align-items-center">
          <%= link_to add_soil_log_path(@log) do %>
            <img class="p-2" src="https://img.icons8.com/external-icongeek26-flat-icongeek26/344/external-Fertile-Soil-gardening-icongeek26-flat-icongeek26.png" style="height:50px; object-fit: cover; background-color: #F5F7F4; border-radius: 10px">
            <p class="plant_detail_label_content mt-1">Soil</p>
          <% end %>
        </div>

        <div class="col d-flex flex-column align-items-center">
          <%= link_to add_food_log_path(@log) do %>
            <img class="p-2" src="https://img.icons8.com/color/344/paper-bag-with-seeds.png" style="height:50px; object-fit: cover; background-color: #F5F7F4; border-radius: 10px">
            <p class="plant_detail_label_content mt-1">Food</p>
          <% end %>
        </div>

        <div class="col d-flex flex-column align-items-center">
            <img class="p-2" src="https://img.icons8.com/fluency/344/add-camera.png" style="height:50px; object-fit: cover; background-color: #F5F7F4; border-radius: 10px">
            <p class="plant_detail_label_content mt-1">Photo</p>
        </div>

      </div>
    </div>

    <%# add new picture button %>

    <div class="d-flex justify-content-center mt-3 ms-5 mb-5">
    <%= simple_form_for :log do |f| %>
      <%= f.input :photo, as: :file, direct_upload: true, :class => "add_pic" %>
      <%= f.button :submit, "Upload" %>
    <% end %>
  </div>



    <%#history %>
    <div>
        <h3 class="mt-3" style="color: #725B39;">Treatment history</h3>
        <h3><%= current_user.points %></h3>
    </div>

    <%#all history cards%>

   <div class="all_history_cards" >
   <% @user_histories.each do |user_history| %>
      <div class="card history_card">
        <div class="card-body pb-1">
          <p class="m-0 p-0" style="color:lightgray"><%=user_history.action_date %></p>
          <div class="d-flex justify-content-between mt-2">
            <h6><%=user_history.action_name %></h6>
            <p class="plant_detail_score"> +20 points</p>
          </div>
        </div>
      </div>
      <% end %>
      <%#please don't remove this br br%>
      <br><br>

    </div>

</div>
